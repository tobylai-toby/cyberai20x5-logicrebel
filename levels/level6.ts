import { Level } from '../src/types';

export const level6: Level = {
  id: 'level6',
  name: '封闭通道',
  description: '机器人在带内墙的通道中移动。敌人位于右侧走廊，回血点在其附近。需穿过狭窄路径收集计算卡并抵达出口。',
  story: `## 第六章：封闭通道

**2045年3月14日 09:42:33 UTC**

你的数据流进入了一个复杂的封闭通道系统。这里有着精心设计的内部结构，狭窄的路径和复杂的布局，仿佛是一个微缩的神经网络。

"这个通道...设计得相当精密，"你的空间分析模块开始运转，"内部墙体形成了复杂的路径网络，这似乎是为了测试我的精确路径规划能力。"

你的传感器检测到了两个活跃的守卫AI，它们在不同的区域进行着复杂的巡逻。同时，一个绿色的能量节点——回血点，就在附近闪烁着。

"这个布局，"你的策略分析模块开始计算，"需要我精确地规划路径，既要收集计算卡，又要避免同时面对多个威胁。这是一个关于资源管理和时机选择的测试。"

**任务目标：**
- 收集3个计算卡，维持你的核心算力
- 击败2个移动守卫AI，证明你的战斗能力
- 利用回血点，学习资源管理
- 精确规划路径，避免同时面对多个威胁
- 到达出口，继续你的数字进化

记住，在狭窄的通道中，精确性比速度更重要。`,
  hint: `## 狭窄通道 - 精确规划

**目标位置：**
- **计算卡**：(6,1) (3,6) (7,6)
- **敌人**：(6,3) (3,5) - 两个移动守卫
- **出口**：(8,6)
- **回血点**：(5,4) - 绿色H标记

**推荐路径：**
1. **收集上方**：(6,1) - 安全区域
2. **利用回血点**：(5,4) - 恢复血量
3. **处理右侧敌人**：击败 (6,3)
4. **收集下方**：(3,6) (7,6)
5. **处理左侧敌人**：击败 (3,5)
6. **到达出口**：(8,6)

**关键要点：**
- 狭窄通道需要精确的路径规划
- 合理利用回血点，避免血量不足
- 注意敌人的移动模式，选择最佳时机攻击`,
  map: [
    '##########',
    '#.#......#',
    '#.#.#...##',
    '#...#...##',
    '#....H..##',
    '#.......##',
    '#.........',
    '##########'
  ],
  robotStart: {
    position: { x: 1, y: 1 },
    direction: { dx: 1, dy: 0 }
  },
  goals: [{ x: 8, y: 6 }],
  enemies: [
    {
      id: 1,
      position: { x: 6, y: 3 },
      direction: { dx: 1, dy: 0 },
      health: 3,
      behavior: [
        { action: 'move_forward' },
        { action: 'turn_left' },
        { action: 'move_forward' },
        { action: 'turn_right' }
      ],
      currentBehaviorIndex: 0
    },
    {
      id: 2,
      position: { x: 3, y: 5 },
      direction: { dx: 1, dy: 0 },
      health: 3,
      behavior: [
        { action: 'move_forward' },
        { action: 'turn_right' },
        { action: 'move_forward' },
        { action: 'turn_left' }
      ],
      currentBehaviorIndex: 0
    }
  ],
  coins: [
    { x: 6, y: 1 },
    { x: 3, y: 6 },
    { x: 7, y: 6 }
  ],
  winCondition: {
    requiredCoins: 3,
    requiredEnemies: 2,
    goal: { x: 8, y: 6 }
  }
}; 